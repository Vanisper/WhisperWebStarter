import{e as L,a5 as q,c as T,k as m,p as b,x as o,v as e,m as a,F as j,P as z,y as r,l as O,a9 as Q,r as W,aa as G,a as H,$ as u,z as v,ab as J,ac as K}from"./vue-7ljCSW1o.js";import{F as X,L as Y}from"./index-x9mgyGlo.js";import{_ as P,u as Z,a as ee,D as oe,I as se,b as ae,c as ne,p as re}from"./index-V4aQyW_H.js";/* empty css              */import{ao as te,ap as le,ac as ce,aq as ie,ar as me,as as ue,at as de,au as _e,ad as pe,av as ge,aw as fe,ax as ve,ab as be,ay as he}from"./arco-gqRLpU6Z.js";import{u as we}from"./index-exIjjosh.js";/* empty css              *//* empty css              *//* empty css              */import"./chart-vlTB0gn5.js";const F="/assets/login-banner-qrb-fnen.png",Se={class:"banner"},$e={class:"banner-inner"},ye={class:"carousel-title"},Ie={class:"carousel-sub-title"},ke=["src"],Ve=L({__name:"banner",setup(i){const{t:n}=q.useI18n(),h=T(()=>[{slogan:n("login.banner.slogan1"),subSlogan:n("login.banner.subSlogan1"),image:F},{slogan:n("login.banner.slogan2"),subSlogan:n("login.banner.subSlogan2"),image:F},{slogan:n("login.banner.slogan3"),subSlogan:n("login.banner.subSlogan3"),image:F}]);return($,y)=>{const w=le,I=te;return m(),b("div",Se,[o("div",$e,[e(I,{class:"carousel","animation-name":"fade"},{default:a(()=>[(m(!0),b(j,null,z(h.value,l=>(m(),O(w,{key:l.slogan},{default:a(()=>[(m(),b("div",{key:l.slogan,class:"carousel-item"},[o("div",ye,r(l.slogan),1),o("div",Ie,r(l.subSlogan),1),o("img",{class:"carousel-image",src:l.image},null,8,ke)]))]),_:2},1024))),128))]),_:1})])])}}}),Fe=P(Ve,[["__scopeId","data-v-101fc672"]]),Le=i=>(J("data-v-12d477ed"),i=i(),K(),i),Pe={class:"login-form-wrapper"},Ce={class:"login-form-title"},xe={class:"login-form-sub-title"},qe={class:"login-form-error-msg"},Ue={class:"login-form-password-actions"},Be=Le(()=>o("span",null,"是否使用后端菜单列表",-1)),Ne=L({__name:"login-form",setup(i){const n=Q(),{t:h}=q.useI18n(),$=W(""),{loading:y,setLoading:w}=we(),I=Z(),l=ee(),c=G("login-config",{rememberPassword:!0,username:"admin",password:"admin"}),d=H({username:c.value.username,password:c.value.password}),U=async({errors:s,values:t})=>{if(!y.value&&!s){w(!0);try{await I.login(t);const{redirect:_,...S}=n.currentRoute.value.query,p=n.currentRoute.value.params;try{n.push({name:_||"Workplace",query:{...S},params:{...p}})}catch{n.push({name:oe,query:{...S},params:{...p}})}finally{ce.success(h("login.form.login.success"));const{rememberPassword:g}=c.value,{username:k,password:V}=t;c.value.username=g?k:"",c.value.password=g?V:""}}catch(_){$.value=_.message}finally{w(!1)}}},B=s=>{c.value.rememberPassword=s};return(s,t)=>{const _=se,S=ie,p=me,g=ae,k=ue,V=de,N=_e,C=pe,R=ge,M=fe,x=ne,D=ve,E=be,A=he;return m(),b("div",Pe,[o("div",Ce,r(s.$t("login.form.title")),1),o("div",xe,r(s.$t("login.form.title")),1),o("div",qe,r($.value),1),e(M,{ref:"loginForm",model:d,class:"login-form",layout:"vertical",onSubmit:U},{default:a(()=>[e(p,{field:"username",rules:[{required:!0,message:s.$t("login.form.userName.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:a(()=>[e(S,{modelValue:d.username,"onUpdate:modelValue":t[0]||(t[0]=f=>d.username=f),placeholder:s.$t("login.form.userName.placeholder")},{prefix:a(()=>[e(_)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),e(p,{field:"password",rules:[{required:!0,message:s.$t("login.form.password.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:a(()=>[e(k,{modelValue:d.password,"onUpdate:modelValue":t[1]||(t[1]=f=>d.password=f),placeholder:s.$t("login.form.password.placeholder"),"allow-clear":""},{prefix:a(()=>[e(g)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),e(R,{size:16,direction:"vertical"},{default:a(()=>[o("div",Ue,[e(V,{checked:"rememberPassword","model-value":u(c).rememberPassword,onChange:B},{default:a(()=>[v(r(s.$t("login.form.rememberPassword")),1)]),_:1},8,["model-value","onChange"]),e(N,null,{default:a(()=>[v(r(s.$t("login.form.forgetPassword")),1)]),_:1})]),e(C,{type:"primary","html-type":"submit",long:"",loading:u(y)},{default:a(()=>[v(r(s.$t("login.form.login")),1)]),_:1},8,["loading"]),e(C,{type:"text",long:"",class:"login-form-register-btn"},{default:a(()=>[v(r(s.$t("login.form.register")),1)]),_:1})]),_:1})]),_:1},8,["model"]),e(D,{margin:20},{default:a(()=>[e(x),v("调试区"),e(x)]),_:1}),e(A,{style:{gap:"10px","align-items":"center"}},{default:a(()=>[Be,e(E,{modelValue:u(l).menuFromServer,"onUpdate:modelValue":t[2]||(t[2]=f=>u(l).menuFromServer=f)},null,8,["modelValue"])]),_:1})])}}}),Re=P(Ne,[["__scopeId","data-v-12d477ed"]]),Me={class:"container"},De={class:"logo"},Ee=["src"],Ae={class:"logo-text"},Te={class:"content"},je={class:"content-inner"},ze={class:"footer"},Oe=L({__name:"index",setup(i){return(n,h)=>(m(),b("div",Me,[o("div",De,[o("img",{alt:"logo",src:u(Y)},null,8,Ee),o("div",Ae,r(u(re).name),1)]),e(Fe),o("div",Te,[o("div",je,[e(Re)]),o("div",ze,[e(X)])])]))}}),oo=P(Oe,[["__scopeId","data-v-a2e6c10e"]]);export{oo as default};
